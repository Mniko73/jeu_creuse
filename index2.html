<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Underground RPG - Version AmÃ©liorÃ©e</title>
  
</head>
<body>
  <div class="game-layout">
    <div class="sidebar scrollbar-custom">
      <!-- Section Multijoueur -->
      <div class="section multiplayer-section">
        <h3>ğŸŒ Multijoueur</h3>
        <div class="connection-status disconnected" id="connectionStatus">
          Hors ligne - Mode Solo
        </div>
        <div class="player-list" id="playerList"></div>
      </div>

      <!-- Section Joueur -->
      <div class="section">
        <h3>ğŸ‘¤ Joueur ğŸ‘€</h3>
        <div class="stats-grid">
          <div class="stat-item" id="scoreDisplay">Score: 0</div>
          <div class="stat-item" id="depthDisplay">Prof: 0m</div>
          <div class="stat-item" id="levelDisplay">Niv: 1</div>
          <div class="stat-item" id="biomeDisplay">Surface</div>
        </div>
        
        <!-- Barre de vie -->
        <div class="health-bar">
          <div class="health-fill" id="healthBar" style="width: 100%"></div>
          <div class="bar-text" id="healthText">100/100</div>
        </div>
        
        <!-- Barre d'expÃ©rience -->
        <div class="experience-bar">
          <div class="experience-fill" id="experienceBar" style="width: 0%"></div>
          <div class="bar-text" id="experienceText">0/100 XP</div>
        </div>
        
        <!-- Barre d'oxygÃ¨ne -->
        <div style="margin: 10px 0; position: relative;">
          <div style="width: 100%; height: 18px; background: #2c3e50; border-radius: 9px; overflow: hidden; border: 2px solid rgba(255,255,255,0.2);">
            <div id="oxygenBar" style="height: 100%; width: 100%; background: linear-gradient(90deg, #00ffff, #0080ff); transition: width 0.3s;"></div>
          </div>
          <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.6em; font-weight: bold;" id="oxygenText">100%</div>
        </div>
      </div>

      <!-- Section Inventaire -->
      <div class="section">
        <h3>ğŸ’ Inventaire</h3>
        <div class="inventory-grid" id="inventory"></div>
      </div>

      <!-- Section Craft -->
      <div class="section">
        <h3>ğŸ”¨ Artisanat</h3>
        <div id="craftingRecipes" class="scrollbar-custom"></div>
      </div>

      <!-- Section QuÃªtes -->
      <div class="section">
        <h3>âš”ï¸ QuÃªtes</h3>
        <div id="questList" class="scrollbar-custom"></div>
      </div>
    </div>

    <div class="main-game">
      <h1>Underground RPG</h1>
      <div class="biome-indicator" id="biomeIndicator">ğŸŒ± Surface</div>
      <canvas id="gameCanvas"></canvas>
      
      <div class="controls">
        <button class="control-button" id="leftBtn" title="Aller Ã  gauche">â†</button>
        <button class="control-button" id="digBtn" title="Creuser">â›ï¸</button>
        <button class="control-button" id="rightBtn" title="Aller Ã  droite">â†’</button>
        <button class="control-button" id="craftBtn" title="Artisanat">ğŸ”¨</button>
        <button class="control-button" id="inventoryBtn" title="Inventaire">ğŸ’</button>
        <button class="control-button" id="shopBtn" title="Magasin">ğŸª</button>
      </div>
    </div>
  </div>

  <!-- Dialog NPC -->
  <div class="npc-dialog" id="npcDialog">
    <div class="npc-name" id="npcName"></div>
    <div class="npc-text" id="npcText"></div>
    <div class="dialog-options" id="dialogOptions"></div>
  </div>
<!-- Inclusions des modules JS -->
  <script type="module" src="js/config.js"></script>
  <script type="module" src="js/utils.js"></script>
  <script type="module" src="js/world.js"></script>
  <script type="module" src="js/player.js"></script>
  <script type="module" src="js/inventory.js"></script>
  <script type="module" src="js/quest.js"></script>
  <script type="module" src="js/npc.js"></script>
  <script type="module" src="js/combat.js"></script>
  <script type="module" src="js/particles.js"></script>
  <script type="module" src="js/game.js"></script>
  
  <script type="module">
    // Initialisation du jeu
    window.addEventListener('DOMContentLoaded', () => {
      const game = new MultiplayerDiggingGame();
      window.game = game; // Pour debug si besoin
    });
  </script>
</body>
</html>